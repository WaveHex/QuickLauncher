import{r as i,j as e,R as Ze,a as et}from"./client-mmJTRLxO.js";const c=[];for(let a=0;a<256;++a)c.push((a+256).toString(16).slice(1));function tt(a,s=0){return(c[a[s+0]]+c[a[s+1]]+c[a[s+2]]+c[a[s+3]]+"-"+c[a[s+4]]+c[a[s+5]]+"-"+c[a[s+6]]+c[a[s+7]]+"-"+c[a[s+8]]+c[a[s+9]]+"-"+c[a[s+10]]+c[a[s+11]]+c[a[s+12]]+c[a[s+13]]+c[a[s+14]]+c[a[s+15]]).toLowerCase()}let Y;const at=new Uint8Array(16);function nt(){if(!Y){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Y=crypto.getRandomValues.bind(crypto)}return Y(at)}const st=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ve={randomUUID:st};function it(a,s,l){var p;if(ve.randomUUID&&!a)return ve.randomUUID();a=a||{};const d=a.random??((p=a.rng)==null?void 0:p.call(a))??nt();if(d.length<16)throw new Error("Random bytes length must be >= 16");return d[6]=d[6]&15|64,d[8]=d[8]&63|128,tt(d)}async function g(a,s={},l){return window.__TAURI_INTERNALS__.invoke(a,s,l)}function V(a,s="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(a,s)}class ${constructor(s){this.path=s}static async load(s){const l=await g("plugin:sql|load",{db:s});return new $(l)}static get(s){return new $(s)}async execute(s,l){const[d,p]=await g("plugin:sql|execute",{db:this.path,query:s,values:l??[]});return{lastInsertId:p,rowsAffected:d}}async select(s,l){return await g("plugin:sql|select",{db:this.path,query:s,values:l??[]})}async close(s){return await g("plugin:sql|close",{db:s})}}async function K(a={}){return typeof a=="object"&&Object.freeze(a),await g("plugin:dialog|open",{options:a})}async function ot(a={}){return typeof a=="object"&&Object.freeze(a),await g("plugin:dialog|save",{options:a})}async function lt(){return await g("plugin:autostart|is_enabled")}async function rt(){await g("plugin:autostart|enable")}async function ct(){await g("plugin:autostart|disable")}var je;(function(a){a[a.Audio=1]="Audio",a[a.Cache=2]="Cache",a[a.Config=3]="Config",a[a.Data=4]="Data",a[a.LocalData=5]="LocalData",a[a.Document=6]="Document",a[a.Download=7]="Download",a[a.Picture=8]="Picture",a[a.Public=9]="Public",a[a.Video=10]="Video",a[a.Resource=11]="Resource",a[a.Temp=12]="Temp",a[a.AppConfig=13]="AppConfig",a[a.AppData=14]="AppData",a[a.AppLocalData=15]="AppLocalData",a[a.AppCache=16]="AppCache",a[a.AppLog=17]="AppLog",a[a.Desktop=18]="Desktop",a[a.Executable=19]="Executable",a[a.Font=20]="Font",a[a.Home=21]="Home",a[a.Runtime=22]="Runtime",a[a.Template=23]="Template"})(je||(je={}));var we;(function(a){a[a.Start=0]="Start",a[a.Current=1]="Current",a[a.End=2]="End"})(we||(we={}));async function dt(a,s){if(a instanceof URL&&a.protocol!=="file:")throw new TypeError("Must be a file URL.");const l=await g("plugin:fs|read_text_file",{path:a instanceof URL?a.toString():a,options:s}),d=l instanceof ArrayBuffer?l:Uint8Array.from(l);return new TextDecoder().decode(d)}async function ut(a,s,l){if(a instanceof URL&&a.protocol!=="file:")throw new TypeError("Must be a file URL.");const d=new TextEncoder;await g("plugin:fs|write_text_file",d.encode(s),{headers:{path:encodeURIComponent(a instanceof URL?a.toString():a),options:JSON.stringify(l)}})}const mt="0.1.0",Se={version:mt};var Ne;(function(a){a.Year="year",a.Month="month",a.TwoWeeks="twoWeeks",a.Week="week",a.Day="day",a.Hour="hour",a.Minute="minute",a.Second="second"})(Ne||(Ne={}));var ke;(function(a){a[a.None=0]="None",a[a.Min=1]="Min",a[a.Low=2]="Low",a[a.Default=3]="Default",a[a.High=4]="High"})(ke||(ke={}));var Te;(function(a){a[a.Secret=-1]="Secret",a[a.Private=0]="Private",a[a.Public=1]="Public"})(Te||(Te={}));function w(a){typeof a=="string"?new window.Notification(a):new window.Notification(a.title,a)}const gt=[{key:"profiles",label:"Профили",icon:"📁"},{key:"about",label:"О нас",icon:"ℹ️"},{key:"settings",label:"Настройки",icon:"⚙️"}],j=$.load("sqlite:quicklauncher.db"),Ce=[{value:"dark",label:"Тёмная"},{value:"light",label:"Светлая"},{value:"blue",label:"Синяя"},{value:"green",label:"Зелёная"},{value:"red",label:"Красная"}],G=[{value:"Inter, Segoe UI, Arial, sans-serif",label:"Inter"},{value:"Segoe UI, Arial, sans-serif",label:"Segoe UI"},{value:"Roboto, Arial, sans-serif",label:"Roboto"},{value:"Arial, sans-serif",label:"Arial"},{value:"monospace",label:"Monospace"}],ht=[{value:"theme",label:"Тема"},{value:"color",label:"Цвет"},{value:"image",label:"Изображение"}],ft=({message:a,onClose:s})=>(i.useEffect(()=>{const l=setTimeout(s,3e3);return()=>clearTimeout(l)},[s]),e.jsx("div",{style:{position:"fixed",bottom:32,right:32,background:"#23242b",color:"#fff",padding:"16px 24px",borderRadius:8,boxShadow:"0 4px 24px rgba(0,0,0,0.13)",zIndex:9999,fontSize:16,animation:"toastIn 0.3s"},children:a}));function pt(){var be,ye,xe;const[a]=i.useState("dark"),[s,l]=i.useState("profiles"),[d,p]=i.useState([]),[Ee,q]=i.useState(!1),[T,Z]=i.useState(""),[ee,te]=i.useState(""),[f,L]=i.useState("color"),[v,C]=i.useState("#6c63ff"),[U,_]=i.useState(null),[E,ae]=i.useState(""),[ne,se]=i.useState(""),[ie,Q]=i.useState([]),[B,oe]=i.useState("app"),[R,H]=i.useState(""),[S,P]=i.useState(null),[Re,z]=i.useState(!1),[N,Ie]=i.useState(""),[W,le]=i.useState(""),[I,re]=i.useState(void 0),[Ae,J]=i.useState("dark"),[ce,D]=i.useState(!1),[b,de]=i.useState(localStorage.getItem("bgType")||"theme"),[O,ue]=i.useState(localStorage.getItem("bgColor")||"#181a20"),[u,me]=i.useState(localStorage.getItem("bgImage")||""),[F,ge]=i.useState(localStorage.getItem("fontFamily")||G[0].value),[y,Le]=i.useState(localStorage.getItem("notifications")!=="off"),[he,fe]=i.useState(null),[x,M]=i.useState("color"),[k,A]=i.useState("#6c63ff");i.useEffect(()=>{document.body.setAttribute("data-theme",a)},[a]),i.useEffect(()=>{(async()=>{const t=await j;await t.execute("CREATE TABLE IF NOT EXISTS user (id INTEGER PRIMARY KEY, name TEXT)");const n=await t.select("SELECT * FROM user LIMIT 1");n.length>0?P({name:n[0].name}):z(!0);try{await t.execute("ALTER TABLE profiles ADD COLUMN bg_type TEXT")}catch{}try{await t.execute("ALTER TABLE profiles ADD COLUMN bg_value TEXT")}catch{}try{await t.execute("ALTER TABLE user ADD COLUMN avatar TEXT")}catch{}const r=await t.select("SELECT * FROM profiles");p(r.map(m=>({id:m.id,name:m.name,category:m.category,actions:JSON.parse(m.actions_json),bgType:m.bg_type,bgValue:m.bg_value})))})()},[]),i.useEffect(()=>{s==="settings"&&S&&(le(S.name),re(S.avatar),J(localStorage.getItem("theme")||"dark"),lt().then(D))},[s,S]),i.useEffect(()=>{const t=localStorage.getItem("theme")||"dark";J(t),document.body.classList.remove("theme-dark","theme-light","theme-blue","theme-green","theme-red"),document.body.classList.add(`theme-${t}`)},[]),i.useEffect(()=>{b==="color"?(document.body.style.background=O,document.body.style.backgroundImage=""):b==="image"&&u&&(document.body.style.background="",document.body.style.backgroundImage=`url('${u.startsWith("/")?u:V(u)}')`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center"),document.body.style.fontFamily=F},[b,O,u,F]);const Ue=async t=>{if(t.preventDefault(),!T.trim())return;const n={id:it(),name:T,category:ee,actions:[],bgType:f,bgValue:v};p(r=>[...r,n]),q(!1),Z(""),te(""),L("color"),C("#6c63ff"),await(await j).execute("INSERT INTO profiles (id, name, category, actions_json, bg_type, bg_value) VALUES (?, ?, ?, ?, ?, ?)",[n.id,n.name,n.category,JSON.stringify(n.actions),n.bgType,n.bgValue])},_e=async t=>{p(o=>o.filter(r=>r.id!==t)),await(await j).execute("DELETE FROM profiles WHERE id = ?",[t])},Pe=t=>{_(t),ae(t.name),se(t.category),Q(t.actions),oe("app"),H(""),M("color"),A(t.bgValue||"#6c63ff")},ze=async t=>{if(t.preventDefault(),!U)return;const n={...U,name:E,category:ne,actions:ie,bgType:x,bgValue:k};try{await(await j).execute("UPDATE profiles SET name = ?, category = ?, actions_json = ?, bg_type = ?, bg_value = ? WHERE id = ?",[n.name,n.category,JSON.stringify(n.actions),n.bgType,n.bgValue,n.id]),p(r=>r.map(m=>m.id===U.id?n:m)),_(null)}catch(o){alert("Ошибка при сохранении профиля: "+o),console.error(o)}},We=t=>{if(t.preventDefault(),!R.trim())return;let n;switch(B){case"app":case"folder":case"file":n={type:B,path:R};break;case"url":n={type:"url",url:R};break;case"cmd":n={type:"cmd",command:R};break;default:return}Q(o=>[...o,n]),H("")},Oe=t=>{Q(n=>n.filter((o,r)=>r!==t))},Fe=async t=>{for(const n of t.actions)try{switch(n.type){case"app":case"file":case"folder":await g("run_app",{path:n.path});break;case"url":await g("open_url",{url:n.url});break;case"cmd":await g("run_cmd",{command:n.command});break}}catch{y&&pe("Ошибка запуска действия!")}y&&pe(`Профиль "${t.name}" успешно запущен!`)},Me=async t=>{if(t.preventDefault(),!N.trim())return;await(await j).execute("INSERT INTO user (name) VALUES (?)",[N]),P({name:N}),z(!1)},Ve=async t=>{if(t.preventDefault(),!W.trim())return;const n=await j;await n.execute("UPDATE user SET name = ?, avatar = ?",[W,I||null]);const o=await n.select("SELECT * FROM user LIMIT 1");o.length>0&&P({name:o[0].name,avatar:o[0].avatar}),z(!1),y&&w({title:"QuickLauncher",body:"Настройки успешно сохранены!"})},$e=async()=>{const t=await K({multiple:!1,filters:[{name:"Images",extensions:["png","jpg","jpeg","gif","bmp","webp"]}]});typeof t=="string"&&re(t)},qe=t=>{var o;const n=t.target.value;J(n),localStorage.setItem("theme",n),document.body.classList.remove("theme-dark","theme-light","theme-blue","theme-green","theme-red"),document.body.classList.add(`theme-${n}`),y&&w({title:"QuickLauncher",body:`Тема изменена на "${((o=Ce.find(r=>r.value===n))==null?void 0:o.label)||n}"`})},Qe=async()=>{ce?(await ct(),D(!1)):(await rt(),D(!0))},Be=async()=>{const n=await(await j).select("SELECT * FROM profiles"),o=JSON.stringify(n,null,2),r=await ot({filters:[{name:"JSON",extensions:["json"]}],defaultPath:"profiles.json"});r&&(await ut(r,o),y&&w({title:"QuickLauncher",body:"Профили успешно экспортированы!"}))},He=async()=>{const t=await K({multiple:!1,filters:[{name:"JSON",extensions:["json"]}]});if(typeof t=="string"){const n=await dt(t);let o;try{o=JSON.parse(n)}catch{alert("Ошибка чтения файла!");return}if(!Array.isArray(o)){alert("Некорректный формат файла!");return}const r=await j;await r.execute("DELETE FROM profiles");for(const h of o)await r.execute("INSERT INTO profiles (id, name, category, actions_json, bg_type, bg_value) VALUES (?, ?, ?, ?, ?, ?)",[h.id,h.name,h.category,h.actions_json,h.bg_type,h.bg_value]);const m=await r.select("SELECT * FROM profiles");p(m.map(h=>({id:h.id,name:h.name,category:h.category,actions:JSON.parse(h.actions_json),bgType:h.bg_type,bgValue:h.bg_value}))),y&&w({title:"QuickLauncher",body:"Профили успешно импортированы!"})}},Je=async()=>{if(!window.confirm("Вы уверены? Все данные будут удалены!"))return;const t=await j;await t.execute("DELETE FROM user"),await t.execute("DELETE FROM profiles"),P(null),z(!0),p([]),y&&w({title:"QuickLauncher",body:"Все данные приложения сброшены!"})},De=t=>{de(t.target.value),localStorage.setItem("bgType",t.target.value)},Xe=t=>{ue(t.target.value),localStorage.setItem("bgColor",t.target.value),y&&w({title:"QuickLauncher",body:"Фоновый цвет изменён!"})},X=async t=>{const n=await K({multiple:!1,filters:[{name:"Images",extensions:["png","jpg","jpeg","gif","bmp","webp"]}]});typeof n=="string"&&t(n)},Ye=t=>{ge(t.target.value),localStorage.setItem("fontFamily",t.target.value),y&&w({title:"QuickLauncher",body:"Шрифт интерфейса изменён!"})},Ke=()=>{de("theme"),ue("#181a20"),me(""),ge(G[0].value),localStorage.removeItem("bgType"),localStorage.removeItem("bgColor"),localStorage.removeItem("bgImage"),localStorage.removeItem("fontFamily"),y&&w({title:"QuickLauncher",body:"Кастомизация сброшена!"})},Ge=()=>{Le(t=>(localStorage.setItem("notifications",t?"off":"on"),!t))},pe=t=>fe(t);return e.jsxs("div",{className:"app-layout",style:{backgroundColor:b==="color"?O:void 0,backgroundImage:b==="image"&&u?`url('${u.startsWith("/")?u:V(u)}')`:void 0,backgroundSize:b==="image"&&u?"cover":void 0,backgroundPosition:b==="image"&&u?"center":void 0,fontFamily:F,minHeight:"100vh"},children:[Re&&e.jsx("div",{className:"modal-overlay",style:{display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:e.jsxs("form",{className:"modal-form stylish-form",onSubmit:Me,style:{minWidth:320,textAlign:"center",animation:"popIn 0.3s cubic-bezier(.4,2,.6,1)"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:18},children:[e.jsx("div",{style:{width:64,height:64,borderRadius:"50%",background:"#6c63ff",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:32,marginBottom:10,boxShadow:"0 2px 12px rgba(108,99,255,0.18)"},children:N?N[0].toUpperCase():"🙂"}),e.jsx("h2",{style:{margin:0,fontWeight:700,fontSize:"1.3rem"},children:"Добро пожаловать!"}),e.jsx("div",{style:{color:"#aaa",fontSize:15,marginTop:4,marginBottom:10},children:"Введите ваше имя для персонализации приложения"})]}),e.jsx("input",{type:"text",placeholder:"Ваше имя...",value:N,onChange:t=>Ie(t.target.value),required:!0,className:"modal-input stylish-input",autoFocus:!0,style:{textAlign:"center",fontSize:18,marginBottom:18},maxLength:32,onKeyDown:t=>{var n;t.key==="Enter"&&((n=t.currentTarget.form)==null||n.requestSubmit())}}),e.jsx("button",{type:"submit",className:"modal-submit stylish-btn-submit",style:{width:"100%",fontSize:17,padding:"0.7em 0"},disabled:!N.trim(),children:"Продолжить"})]})}),e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-logo",children:"QuickLauncher"}),e.jsx("nav",{className:"sidebar-nav",children:gt.map(t=>e.jsxs("button",{className:`sidebar-nav-btn${s===t.key?" active":""}`,onClick:()=>l(t.key),children:[e.jsx("span",{children:t.icon}),e.jsx("span",{children:t.label})]},t.key))}),e.jsx("div",{className:"sidebar-bottom",children:"v1.0.0"})]}),e.jsxs("div",{className:"main-content",children:[e.jsxs("header",{className:"header",children:[e.jsxs("div",{style:{fontWeight:600,fontSize:"1.1rem"},children:[s==="profiles"&&"Ваши профили",s==="about"&&"О нас",s==="settings"&&"Настройки"]}),e.jsx("div",{className:"header-user",children:e.jsx("span",{className:"user-name",children:(S==null?void 0:S.name)||""})})]}),e.jsxs("main",{style:{flex:1,padding:"2.5rem 2rem"},children:[s==="profiles"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"section-title",children:"Профили"}),e.jsx("button",{className:"add-profile-btn",onClick:()=>q(!0),children:"+ Добавить профиль"}),d.length===0?e.jsx("div",{className:"profiles-empty",children:"Нет профилей. Добавьте первый!"}):e.jsx("div",{className:"profiles-list",children:d.map(t=>{var n,o;return e.jsxs("div",{className:"profile-card profile-card-list stylish-profile-card",style:{background:t.bgValue||"#6c63ff"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:t.bgValue||"#6c63ff",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:22,border:"2px solid #fff",flexDirection:"column"},children:((o=(n=t.name)==null?void 0:n[0])==null?void 0:o.toUpperCase())||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"profile-name",children:t.name}),e.jsx("div",{className:"profile-category",children:t.category})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginLeft:"auto"},children:[e.jsx("button",{className:"run-profile-btn stylish-profile-btn",onClick:()=>Fe(t),title:"Запустить профиль",children:"▶ Запустить"}),e.jsx("button",{className:"edit-profile-btn stylish-profile-btn",onClick:()=>Pe(t),title:"Редактировать профиль",children:"✎"}),e.jsx("button",{className:"delete-profile-btn stylish-profile-btn",onClick:()=>_e(t.id),title:"Удалить профиль",children:"✕"})]})]},t.id)})})]}),s==="about"&&e.jsxs("div",{style:{maxWidth:500,margin:"2rem auto",background:"#23242b",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.13)",padding:"2.5rem 2rem",textAlign:"center"},children:[e.jsx("h2",{style:{marginBottom:16},children:"О проекте QuickLauncher"}),e.jsxs("div",{style:{color:"#ccc",fontSize:17,marginBottom:18},children:["QuickLauncher — это современный лаунчер для быстрого запуска приложений, файлов, папок и команд.",e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{children:"Возможности:"}),e.jsx("br",{}),"• Профили с действиями",e.jsx("br",{}),"• Кастомизация (аватар, цвет, имя)",e.jsx("br",{}),"• Экспорт/импорт профилей",e.jsx("br",{}),"• Автозапуск, смена темы",e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{children:"Авторы:"})," Ruffiks и команда",e.jsx("br",{})]}),e.jsxs("div",{style:{color:"#888",fontSize:15,marginBottom:10},children:["Версия: ",Se.version]}),e.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#6c63ff",textDecoration:"underline",fontSize:16},children:"Репозиторий проекта"})]}),s==="settings"&&e.jsxs("form",{className:"settings-form stylish-form",onSubmit:Ve,style:{maxWidth:480,margin:"2rem auto",background:"#23242b",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.13)",padding:"2.5rem 2rem"},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:28},children:"Настройки"}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx("div",{style:{fontWeight:600,fontSize:18,marginBottom:12,color:"#6c63ff"},children:"Пользователь"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16,marginBottom:18},children:[e.jsxs("div",{style:{width:64,height:64,borderRadius:"50%",background:"#6c63ff",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:32,boxShadow:"0 2px 12px rgba(108,99,255,0.18)",position:"relative"},children:[I?e.jsx("img",{src:I.startsWith("/")?I:V(I),alt:"avatar",style:{width:64,height:64,borderRadius:"50%",objectFit:"cover",border:"2px solid #fff",background:"#fff"}}):((be=W[0])==null?void 0:be.toUpperCase())||"🙂",e.jsx("button",{type:"button",onClick:$e,style:{position:"absolute",bottom:-8,right:-8,background:"#fff",border:"none",borderRadius:"50%",width:28,height:28,boxShadow:"0 1px 4px rgba(0,0,0,0.12)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18},title:"Сменить аватарку",children:"✎"})]}),e.jsx("input",{type:"text",placeholder:"Ваше имя",value:W,onChange:t=>le(t.target.value),required:!0,className:"modal-input stylish-input",style:{textAlign:"center",fontSize:18,width:"100%"},maxLength:32})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:14},children:[e.jsx("span",{style:{color:"#eee",fontWeight:500},children:"Автозапуск"}),e.jsx("button",{type:"button",onClick:Qe,className:"stylish-btn-add",style:{minWidth:90},children:ce?"Вкл":"Выкл"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:14},children:[e.jsx("span",{style:{color:"#eee",fontWeight:500},children:"Тема"}),e.jsx("select",{value:Ae,onChange:qe,className:"stylish-select",style:{minWidth:110},children:Ce.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:14},children:[e.jsx("input",{type:"checkbox",id:"notif",checked:y,onChange:Ge,className:"notif-checkbox"}),e.jsx("label",{htmlFor:"notif",className:"notif-label",children:"Показывать уведомления"})]})]}),e.jsx("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"24px 0"}}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx("div",{style:{fontWeight:600,fontSize:18,marginBottom:12,color:"#6c63ff"},children:"Кастомизация интерфейса"}),e.jsxs("div",{style:{marginBottom:18},children:[e.jsx("div",{style:{color:"#eee",fontWeight:500,marginBottom:6},children:"Фон"}),e.jsx("select",{value:b,onChange:De,className:"stylish-select",style:{minWidth:110,marginBottom:8},children:ht.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),b==="color"&&e.jsx("input",{type:"color",value:O,onChange:Xe,style:{marginLeft:12,width:36,height:36,border:"none",background:"none",cursor:"pointer",verticalAlign:"middle"}}),b==="image"&&e.jsx("button",{type:"button",className:"stylish-btn-add",style:{marginLeft:12},onClick:()=>X(me),children:"Выбрать изображение"}),b==="image"&&u&&e.jsx("div",{style:{marginTop:8},children:e.jsx("img",{src:u.startsWith("/")?u:V(u),alt:"bg preview",style:{maxWidth:180,maxHeight:80,borderRadius:8,border:"1px solid #444"}})})]}),e.jsxs("div",{style:{marginBottom:18},children:[e.jsx("div",{style:{color:"#eee",fontWeight:500,marginBottom:6},children:"Шрифт"}),e.jsx("select",{value:F,onChange:Ye,className:"stylish-select",style:{minWidth:140},children:G.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsx("button",{type:"button",className:"stylish-btn-cancel",style:{width:"100%",marginBottom:10},onClick:Ke,children:"Сбросить кастомизацию"})]}),e.jsx("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"24px 0"}}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx("div",{style:{fontWeight:600,fontSize:18,marginBottom:12,color:"#6c63ff"},children:"Профили"}),e.jsx("button",{type:"button",className:"stylish-btn-add",style:{width:"100%",marginBottom:10},onClick:Be,children:"Экспорт профилей"}),e.jsx("button",{type:"button",className:"stylish-btn-add",style:{width:"100%",marginBottom:10},onClick:He,children:"Импорт профилей"}),e.jsx("button",{type:"button",className:"stylish-btn-cancel",style:{width:"100%",marginBottom:10},onClick:Je,children:"Сбросить все данные"})]}),e.jsx("hr",{style:{border:"none",borderTop:"1px solid #333",margin:"24px 0"}}),e.jsxs("div",{style:{textAlign:"center",color:"#888",fontSize:14,marginTop:18},children:[e.jsx("div",{style:{fontWeight:600,fontSize:18,marginBottom:8,color:"#6c63ff"},children:"О приложении"}),e.jsxs("div",{children:["Версия: ",Se.version]}),e.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#6c63ff",textDecoration:"underline",fontSize:16},children:"Репозиторий проекта"})]}),e.jsx("button",{type:"submit",className:"modal-submit stylish-btn-submit",style:{width:"100%",fontSize:17,padding:"0.7em 0",marginTop:28},children:"Сохранить"})]})]})]}),Ee&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("form",{className:"modal-form",onSubmit:Ue,children:[e.jsx("h2",{children:"Новый профиль"}),e.jsx("input",{type:"text",placeholder:"Название профиля",value:T,onChange:t=>Z(t.target.value),required:!0,className:"modal-input"}),e.jsx("input",{type:"text",placeholder:"Категория (например, Работа, Игры)",value:ee,onChange:t=>te(t.target.value),className:"modal-input"}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[e.jsx("button",{type:"button",className:`bgtype-tab${f==="color"?" active":""}`,onClick:()=>L("color"),children:"Цвет"}),e.jsx("button",{type:"button",className:`bgtype-tab${f==="gradient"?" active":""}`,onClick:()=>L("gradient"),children:"Градиент"}),e.jsx("button",{type:"button",className:`bgtype-tab${f==="image"?" active":""}`,onClick:()=>L("image"),children:"Картинка"})]}),f==="color"&&e.jsx("input",{type:"color",value:v,onChange:t=>C(t.target.value),title:"Цвет фона",style:{width:36,height:36,border:"none",background:"none",cursor:"pointer"}}),f==="gradient"&&e.jsx("div",{style:{display:"flex",gap:8},children:["linear-gradient(135deg,#6c63ff,#23242b)","linear-gradient(135deg,#ff6c6c,#ffd86c)","linear-gradient(135deg,#43e97b,#38f9d7)","linear-gradient(135deg,#fa8bff,#2bd2ff)","linear-gradient(135deg,#f7971e,#ffd200)"].map(t=>e.jsx("div",{onClick:()=>C(t),style:{width:36,height:36,borderRadius:"50%",background:t,border:v===t?"2px solid #6c63ff":"2px solid #eee",cursor:"pointer"}},t))}),f==="image"&&e.jsxs("div",{style:{display:"flex",gap:8},children:[["/public/bg1.jpg","/public/bg2.jpg","/public/bg3.jpg"].map(t=>e.jsx("div",{onClick:()=>C(t),style:{width:36,height:36,borderRadius:"50%",background:`url(${t}) center/cover no-repeat`,border:v===t?"2px solid #6c63ff":"2px solid #eee",cursor:"pointer"}},t)),e.jsx("button",{type:"button",onClick:()=>X(C),style:{width:36,height:36,borderRadius:"50%",border:"2px dashed #aaa",background:"none",cursor:"pointer",fontSize:18},children:"+"})]}),e.jsxs("div",{style:{width:80,height:80,borderRadius:"50%",border:"3px solid #6c63ff",background:f==="color"||f==="gradient"?v:f==="image"?`url(${v}) center/cover no-repeat`:"#6c63ff",boxShadow:"0 2px 12px rgba(108,99,255,0.18)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:700,fontSize:32,position:"relative",overflow:"hidden",marginBottom:12},children:[f==="image"&&v&&e.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.25)",zIndex:1}}),e.jsx("span",{style:{position:"relative",zIndex:2},children:((ye=T==null?void 0:T[0])==null?void 0:ye.toUpperCase())||"?"}),f==="image"&&v&&e.jsx("button",{onClick:()=>C(""),style:{position:"absolute",top:4,right:4,background:"rgba(0,0,0,0.5)",color:"#fff",border:"none",borderRadius:"50%",width:20,height:20,cursor:"pointer",zIndex:3},title:"Удалить картинку",children:"×"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"modal-cancel",onClick:()=>q(!1),children:"Отмена"}),e.jsx("button",{type:"submit",className:"modal-submit",children:"Добавить"})]})]})}),U&&e.jsx("div",{className:"modal-overlay stylish-modal",children:e.jsxs("form",{className:"modal-form stylish-form",onSubmit:ze,children:[e.jsx("button",{type:"button",className:"modal-close stylish-close","aria-label":"Закрыть",onClick:()=>_(null),children:"×"}),e.jsx("h2",{className:"modal-title stylish-title",children:"Редактировать профиль"}),e.jsx("input",{type:"text",placeholder:"Название профиля",value:E,onChange:t=>ae(t.target.value),required:!0,className:"modal-input stylish-input"}),e.jsx("input",{type:"text",placeholder:"Категория (например, Работа, Игры)",value:ne,onChange:t=>se(t.target.value),className:"modal-input stylish-input"}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[e.jsx("button",{type:"button",className:`bgtype-tab${x==="color"?" active":""}`,onClick:()=>M("color"),children:"Цвет"}),e.jsx("button",{type:"button",className:`bgtype-tab${x==="gradient"?" active":""}`,onClick:()=>M("gradient"),children:"Градиент"}),e.jsx("button",{type:"button",className:`bgtype-tab${x==="image"?" active":""}`,onClick:()=>M("image"),children:"Картинка"})]}),x==="color"&&e.jsx("input",{type:"color",value:k,onChange:t=>A(t.target.value),title:"Цвет фона",style:{width:36,height:36,border:"none",background:"none",cursor:"pointer"}}),x==="gradient"&&e.jsx("div",{style:{display:"flex",gap:8},children:["linear-gradient(135deg,#6c63ff,#23242b)","linear-gradient(135deg,#ff6c6c,#ffd86c)","linear-gradient(135deg,#43e97b,#38f9d7)","linear-gradient(135deg,#fa8bff,#2bd2ff)","linear-gradient(135deg,#f7971e,#ffd200)"].map(t=>e.jsx("div",{onClick:()=>A(t),style:{width:36,height:36,borderRadius:"50%",background:t,border:k===t?"2px solid #6c63ff":"2px solid #eee",cursor:"pointer"}},t))}),x==="image"&&e.jsxs("div",{style:{display:"flex",gap:8},children:[["/public/bg1.jpg","/public/bg2.jpg","/public/bg3.jpg"].map(t=>e.jsx("div",{onClick:()=>A(t),style:{width:36,height:36,borderRadius:"50%",background:`url(${t}) center/cover no-repeat`,border:k===t?"2px solid #6c63ff":"2px solid #eee",cursor:"pointer"}},t)),e.jsx("button",{type:"button",onClick:()=>X(A),style:{width:36,height:36,borderRadius:"50%",border:"2px dashed #aaa",background:"none",cursor:"pointer",fontSize:18},children:"+"})]}),e.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:x==="color"||x==="gradient"?k:x==="image"?`url(${k}) center/cover no-repeat`:"#6c63ff",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:700,fontSize:22,marginBottom:8},children:((xe=E==null?void 0:E[0])==null?void 0:xe.toUpperCase())||"?"}),e.jsxs("div",{className:"modal-actions-list stylish-actions-list",children:[e.jsx("div",{className:"modal-actions-title stylish-actions-title",children:"Действия профиля:"}),e.jsx("ul",{className:"modal-actions-ul stylish-actions-ul",children:ie.map((t,n)=>e.jsxs("li",{className:"modal-action-item stylish-action-item",children:[e.jsxs("span",{className:"action-type stylish-action-type",children:[t.type==="app"&&"Приложение: ",t.type==="folder"&&"Папка: ",t.type==="file"&&"Файл: ",t.type==="url"&&"URL: ",t.type==="cmd"&&"Команда: "]}),e.jsxs("span",{className:"action-value stylish-action-value",children:[t.type==="app"&&t.path,t.type==="folder"&&t.path,t.type==="file"&&t.path,t.type==="url"&&t.url,t.type==="cmd"&&t.command]}),e.jsx("button",{type:"button",className:"action-delete stylish-action-delete",onClick:()=>Oe(n),children:"🗑"})]},n))}),e.jsxs("div",{className:"modal-add-action stylish-add-action",children:[e.jsxs("select",{value:B,onChange:t=>oe(t.target.value),className:"stylish-select",children:[e.jsx("option",{value:"app",children:"Приложение"}),e.jsx("option",{value:"folder",children:"Папка"}),e.jsx("option",{value:"file",children:"Файл"}),e.jsx("option",{value:"url",children:"URL"}),e.jsx("option",{value:"cmd",children:"Команда"})]}),e.jsx("input",{type:"text",placeholder:"Путь, URL или команда",value:R,onChange:t=>H(t.target.value),className:"stylish-input"}),e.jsx("button",{type:"button",className:"stylish-btn-add",onClick:We,children:"+"})]})]}),e.jsxs("div",{className:"modal-actions stylish-modal-actions",children:[e.jsx("button",{type:"button",className:"modal-cancel stylish-btn-cancel",onClick:()=>_(null),children:"Отмена"}),e.jsx("button",{type:"submit",className:"modal-submit stylish-btn-submit",children:"Сохранить"})]})]})}),he&&e.jsx(ft,{message:he,onClose:()=>fe(null)})]})}Ze.createRoot(document.getElementById("root")).render(e.jsx(et.StrictMode,{children:e.jsx(pt,{})}));
